<div class="page-title d-flex justify-content-between align-items-center">
    <div class="page-title-wrap">
        <h2 class="mb-0">{{'UserManagement.UserGroup.EditRole'|translate}}</h2>
    </div>
    <a class="btn-icon-rounded btn-outline-primary" matTooltip="{{'UserManagement.UserGroup.ViewRoles'|translate}}" matTooltipPosition="above" routerLink="/usermanagement/role/list" routerLinkActive="active"><i class="zmdi zmdi-view-list"></i></a>
</div>
<div class="rct-block">
    <div class="rct-block-content">
        <form class="row">
            <mat-form-field class="col-12 col-lg-6">
                <input type="text" matInput placeholder="{{'UserManagement.UserGroup.RoleCode'|translate}}" required 
                       [(ngModel)]="userGroup.code" #userGroupCode="ngModel" [ngModelOptions]="{standalone: true}" [readonly]="!userGroup.canDelete"
                       maxlength="25" (keyup)="checkWhiteSpace(userGroupCode, userGroupName)" (keydown)="resetError(userGroupCode)" />

                <mat-error *ngIf="userGroupCode.invalid && userGroupCode.touched">
                    <span *ngIf="userGroupCode.hasError('required')">{{'Common.Required'|translate}}</span>
                </mat-error>
                <mat-hint class="mat-error" *ngIf="userGroupCode.whiteSpaceError !== ''">
                    <span>{{userGroupCode.whiteSpaceError}}</span>
                </mat-hint>
                <mat-hint class="mat-error" *ngIf="errorMessage !== ''">
                    <span>{{errorMessage}}</span>
                </mat-hint>
            </mat-form-field>

            <mat-form-field class="col-12 col-lg-6">
                <input type="text" matInput placeholder="{{'Common.Name'|translate}}" required [(ngModel)]="userGroup.name" 
                       #userGroupName="ngModel" [ngModelOptions]="{standalone: true}" [readonly]="!userGroup.canDelete"
                       maxlength="25" (keyup)="checkWhiteSpace(userGroupCode, userGroupName)" (keydown)="resetError(userGroupName)" />

                <mat-error *ngIf="userGroupName.invalid && userGroupName.touched">
                    <span *ngIf="userGroupName.hasError('required')">{{'Common.Required'|translate}}</span>
                </mat-error>
                <mat-hint class="mat-error" *ngIf="userGroupName.whiteSpaceError !== ''">
                    <span>{{userGroupName.whiteSpaceError}}</span>
                </mat-hint>
            </mat-form-field>

            <mat-form-field class="col-12 col-lg-6">
                <textarea matInput maxlength="50" placeholder="{{'Common.Description'|translate}}" [readonly]="!userGroup.canDelete" [(ngModel)]="userGroup.description" #userGroupDescription="ngModel" [ngModelOptions]="{standalone: true}"></textarea>
            </mat-form-field>

            <div class="col-12">
                <button class="btn-icon-rounded btn-primary" matTooltip="{{'Common.Save'|translate}}" matTooltipPosition="above" *ngIf="userGroup.canDelete" (click)="updateUserGroupDetails()"
                        [disabled]="!((userGroupCode.whiteSpaceError === null || userGroupCode.whiteSpaceError === undefined || userGroupCode.whiteSpaceError === '')
                            && (userGroupName.whiteSpaceError === null || userGroupName.whiteSpaceError === undefined || userGroupName.whiteSpaceError === '')
                            && userGroupCode.valid && userGroupName.valid)">
                    <i class="zmdi zmdi-floppy"></i>
                </button>
                <a class="ml-2 btn-icon-rounded btn-outline-secondary" matTooltip="{{'Common.Cancel'|translate}}" matTooltipPosition="above" *ngIf="userGroup.canDelete" routerLink="/usermanagement/role/list" routerLinkActive="active"><i class="zmdi zmdi-close"></i></a>
            </div>
        </form>
    </div>
</div>
